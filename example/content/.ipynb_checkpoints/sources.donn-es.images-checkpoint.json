{"kind":"Notebook","sha256":"4f5dc68a61c3074556e6bd26e148e8b19ea7ead98850b0ecb6fc90050604de95","slug":"sources.donn-es.images","location":"/Sources/Données/images.md","dependencies":[],"frontmatter":{"title":"Manipuler des images","kernelspec":{"name":"python3","display_name":"Python 3 (ipykernel)","language":"python"},"jupytext":{"text_representation":{"extension":".md","format_name":"myst","format_version":"0.13"}},"content_includes_title":false,"open_access":true,"license":{"content":{"id":"CC-BY-4.0","url":"https://creativecommons.org/licenses/by/4.0/","name":"Creative Commons Attribution 4.0 International","free":true,"CC":true}},"keywords":[],"copyright":"2024-","thumbnail":"/apple-b439b80f39e1d8f1f2e6feae33437690.png","thumbnailOptimized":"/apple-b439b80f39e1d8f1f2e6feae33437690.webp","exports":[{"format":"md","filename":"images.md","url":"/images-4ae98b83e9141df66ea03858e2bddf0a.md"}]},"mdast":{"type":"root","children":[{"type":"block","position":{"start":{"line":17,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":19,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"text","value":"Dans cette feuille, vous allez apprendre à effectuer quelques\nmanipulations et traitements simples sur les images.  Nous allons\ncommencer par nous entraîner sur une image riche en couleurs (source:\n","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"h2tpzeAZgO"},{"type":"link","url":"https://commons.wikimedia.org/wiki/File:Apple_icon_2.png","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"children":[{"type":"text","value":"wikimedia","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"u4GWKAGMNV"}],"urlSource":"https://commons.wikimedia.org/wiki/File:Apple_icon_2.png","key":"MdNwiN9LAZ"},{"type":"text","value":"):","position":{"start":{"line":19,"column":1},"end":{"line":19,"column":1}},"key":"rkARp4NZ94"}],"key":"S6yILkdDGV"},{"type":"container","kind":"figure","children":[{"type":"image","url":"/apple-b439b80f39e1d8f1f2e6feae33437690.png","alt":"media/apple.png","width":"40px","align":"center","key":"LX3uvu5mfq","urlSource":"media/apple.png","urlOptimized":"/apple-b439b80f39e1d8f1f2e6feae33437690.webp"}],"enumerator":"1","key":"v5JLskxyLm"},{"type":"paragraph","position":{"start":{"line":30,"column":1},"end":{"line":33,"column":1}},"children":[{"type":"text","value":"Pour cela, nous la chargeons avec la bibliothèque ","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"key":"nNb1Xl6CJW"},{"type":"inlineCode","value":"PIL","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"key":"VP83bBJwUN"},{"type":"text","value":" (Python\nImaging Library) en précisant le nom du fichier la contenant, puis\nl’affectons à une variable ","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"key":"xiIYaeEth0"},{"type":"inlineCode","value":"img","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"key":"S3UwZwuLv3"},{"type":"text","value":" pour pouvoir la manipuler par la\nsuite:","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"key":"VVqXE3P5B9"}],"key":"rj7c5nNdxh"}],"data":{"nbgrader":{"grade":false,"grade_id":"cell-19c6eb4994e2384b","locked":true,"schema_version":3,"solution":false,"task":false}},"key":"g52nEraKnu"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"from PIL import Image","key":"fb6NSOISur"},{"type":"output","id":"tq3FDsHTNc3qlyUZ6WKCD","data":[],"key":"ciexFgJYFw"}],"data":{},"key":"D00q1CbtHH"},{"type":"block","children":[],"key":"vbVTmtAsb8"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"img = Image.open(\"media/apple.png\")","key":"sSYhjxEC5v"},{"type":"output","id":"WXw3os8nGBMmI7V6yGAGe","data":[],"key":"UpWq0R9cCN"}],"data":{},"key":"eyxa2FHL5d"},{"type":"block","position":{"start":{"line":59,"column":1},"end":{"line":59,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":61,"column":1},"end":{"line":61,"column":1}},"children":[{"type":"text","value":"Voici cette image:","position":{"start":{"line":61,"column":1},"end":{"line":61,"column":1}},"key":"NgOdPBOeF4"}],"key":"o5B4RJwWf7"}],"data":{"nbgrader":{"grade":false,"grade_id":"cell-e75aecf3bd8946db","locked":true,"schema_version":3,"solution":false}},"key":"DXhM4DpOru"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"img","key":"bfWB0S498M"},{"type":"output","id":"NTEP1zCXhUXX4Bw2dcqI0","data":[],"key":"A72pUnM71x"}],"data":{},"key":"TI5T0fQpyp"},{"type":"block","position":{"start":{"line":75,"column":1},"end":{"line":75,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":77,"column":1},"end":{"line":79,"column":1}},"children":[{"type":"text","value":"Pour l’afficher avec des axes et -- lorsque l’image a une basse\nrésolution -- mieux repérer les pixels individuels, on peut utiliser\n","position":{"start":{"line":77,"column":1},"end":{"line":77,"column":1}},"key":"DjgLVqbZbV"},{"type":"inlineCode","value":"matplotlib","position":{"start":{"line":77,"column":1},"end":{"line":77,"column":1}},"key":"xWlv0u03z7"},{"type":"text","value":":","position":{"start":{"line":77,"column":1},"end":{"line":77,"column":1}},"key":"i2SZTedH0Q"}],"key":"tN81KML6oJ"}],"data":{"nbgrader":{"grade":false,"grade_id":"cell-450a9499627740e6","locked":true,"schema_version":3,"solution":false}},"key":"xOYSFFdB4r"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import matplotlib.pyplot as plt","key":"kRdw3pmzRV"},{"type":"output","id":"sXYXxH2OUK7PH1Om7I5hy","data":[],"key":"J1ykDKEPw0"}],"data":{},"key":"VsxKOYYnCg"},{"type":"block","children":[],"key":"n7LdSiZNzT"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"plt.imshow(img);","key":"DfKD4OaDtL"},{"type":"output","id":"7ClmJKjLciRC6fC12nn1-","data":[],"key":"GScpHClZ84"}],"data":{},"key":"IiAvzMdAgD"},{"type":"block","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"children":[{"type":"admonition","kind":"hint","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Interfaces traditionnelle et objet de matplotlib","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"g9gdb5NKip"}],"key":"CFs6Z6vOXQ"},{"type":"paragraph","position":{"start":{"line":109,"column":1},"end":{"line":112,"column":1}},"children":[{"type":"text","value":"Pourquoi un ","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"key":"ta5OVRcf2X"},{"type":"inlineCode","value":";","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"key":"ug01dPPLom"},{"type":"text","value":" à la fin de la commande précédente?  Parce que\n","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"key":"BrVAhO2IKi"},{"type":"inlineCode","value":"plt.imshow","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"key":"YCCr6fme2n"},{"type":"text","value":" ne renvoie pas une image, mais l’affiche par effet de\nbord. Le ","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"key":"gaKsJ1LIL8"},{"type":"inlineCode","value":";","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"key":"qBaEnE0Hxl"},{"type":"text","value":" évite l’affichage de ce que renvoie vraiment ","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"key":"rgBiHw1h6Z"},{"type":"inlineCode","value":"plt.imshow","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"key":"Ik599Wcmv6"},{"type":"text","value":"\n(un objet de type figure).","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"key":"azHwRKfDw4"}],"key":"wgyiyL2Wpr"},{"type":"paragraph","position":{"start":{"line":114,"column":1},"end":{"line":119,"column":1}},"children":[{"type":"text","value":"Cette approche quelque peu datée est traditionnelle dans des systèmes\ncomme ","position":{"start":{"line":114,"column":1},"end":{"line":114,"column":1}},"key":"cZ3ruCrUG4"},{"type":"inlineCode","value":"Matlab","position":{"start":{"line":114,"column":1},"end":{"line":114,"column":1}},"key":"YmlMIcZijM"},{"type":"text","value":". La bibliothèque ","position":{"start":{"line":114,"column":1},"end":{"line":114,"column":1}},"key":"aRN8c8oZ4G"},{"type":"inlineCode","value":"matplotlib.pyplot","position":{"start":{"line":114,"column":1},"end":{"line":114,"column":1}},"key":"LnkPGCbr6Z"},{"type":"text","value":" l’a reproduit pour\nfaciliter la migration d’utilisateurs de ces systèmes. Par habitude\nbeaucoup d’exemples sur internet utilisent encore cette approche; cela\npeut rester pratique comme raccourci dans des exemples en une ligne\ncomme ci-dessus.","position":{"start":{"line":114,"column":1},"end":{"line":114,"column":1}},"key":"eMdSHLrEq4"}],"key":"zEFEqRgU8O"},{"type":"paragraph","position":{"start":{"line":121,"column":1},"end":{"line":125,"column":1}},"children":[{"type":"text","value":"Mais on sait depuis -- et c’est ce que nous vous enseignons depuis le\ndébut de l’année -- que l’on obtient du code beaucoup plus modulaire\nsi l’on sépare proprement les traitements et calculs (par exemple\nconstruire une figure) des entrées et sorties (par exemple afficher la\nfigure).","position":{"start":{"line":121,"column":1},"end":{"line":121,"column":1}},"key":"dFYcnzl5f8"}],"key":"jJTI0FX1J2"},{"type":"paragraph","position":{"start":{"line":127,"column":1},"end":{"line":128,"column":1}},"children":[{"type":"text","value":"De ce fait, pour tout usage non trivial, il est préférable d’utiliser\nl’interface objet de ","position":{"start":{"line":127,"column":1},"end":{"line":127,"column":1}},"key":"zBk85iJG0c"},{"type":"inlineCode","value":"matplotlib","position":{"start":{"line":127,"column":1},"end":{"line":127,"column":1}},"key":"PwsSaRxZRy"},{"type":"text","value":", comme dans l’exemple suivant:","position":{"start":{"line":127,"column":1},"end":{"line":127,"column":1}},"key":"quAGThdnv1"}],"key":"lFMlpk5GE0"}],"key":"vWdmVN4xA7"}],"data":{"nbgrader":{"grade":false,"grade_id":"cell-b74d7516557d88dd","locked":true,"schema_version":3,"solution":false,"task":false}},"key":"cPd2GA8irK"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"from matplotlib.figure import Figure","key":"VY91m56qm8"},{"type":"output","id":"qgQDeT7XPekbts-vq0sXE","data":[],"key":"UrdbPYy220"}],"data":{},"key":"Uu7CdTJTp2"},{"type":"block","children":[],"key":"ZKSBeB2iMe"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"fig = Figure()              # Construction d'une nouvelle figure\nsubplot = fig.add_subplot() # Ajout d'une zone de dessin (appelée «axes» dans matplotlib) à la figure\nsubplot.imshow(img)         # Ajout d'une image à la zone de dessin\nfig                         # Affichage de la figure","key":"xZ1vUaV3sI"},{"type":"output","id":"3MJQGCpt1DtkVDKCmaRNj","data":[],"key":"dFSIipndwy"}],"data":{},"key":"PmhYitghoE"},{"type":"block","position":{"start":{"line":161,"column":1},"end":{"line":161,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":163,"column":1},"end":{"line":166,"column":1}},"children":[{"type":"text","value":"Consultez la documentation de ","position":{"start":{"line":163,"column":1},"end":{"line":163,"column":1}},"key":"YqFKLW3uZd"},{"type":"strong","position":{"start":{"line":163,"column":1},"end":{"line":163,"column":1}},"children":[{"type":"text","value":"PIL Image","position":{"start":{"line":163,"column":1},"end":{"line":163,"column":1}},"key":"GUfq1QUxdG"}],"key":"vqHVT9DboJ"},{"type":"text","value":" sur internet, pour trouver\ncomment obtenir la largeur et la hauteur de cette image. Stockez le\nrésultat dans des variables ","position":{"start":{"line":163,"column":1},"end":{"line":163,"column":1}},"key":"LEEKuAdjQi"},{"type":"inlineCode","value":"width","position":{"start":{"line":163,"column":1},"end":{"line":163,"column":1}},"key":"HBJdaU6xYI"},{"type":"text","value":" et ","position":{"start":{"line":163,"column":1},"end":{"line":163,"column":1}},"key":"F0yJjZ8kCh"},{"type":"inlineCode","value":"height","position":{"start":{"line":163,"column":1},"end":{"line":163,"column":1}},"key":"qCJrEAmOI1"},{"type":"text","value":" et vérifiez la\ncohérence avec la figure ci-dessus.","position":{"start":{"line":163,"column":1},"end":{"line":163,"column":1}},"key":"h91B8jrk5Q"}],"key":"GPj3S4ZViB"}],"data":{"nbgrader":{"grade":false,"grade_id":"cell-67d310808fac6650","locked":true,"schema_version":3,"solution":false}},"key":"yd5Z8OhJ0O"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"### BEGIN SOLUTION\nwidth, height = img.size \n### END SOLUTION","key":"gNkE6xbekB"},{"type":"output","id":"QtUBFvC8YBJ1RYN45SFvv","data":[],"key":"PH99pw2evE"}],"data":{},"key":"t73AvnaGRm"},{"type":"block","children":[],"key":"QDvp7kFrS5"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"assert width == 256\nassert height == 256","key":"l5mVTmAl0U"},{"type":"output","id":"J5an7Ql17DVXdJ2uEu0GC","data":[],"key":"M9FBpgPEVa"}],"data":{},"key":"ukPnJQ9QKZ"},{"type":"block","position":{"start":{"line":198,"column":1},"end":{"line":198,"column":1}},"children":[{"type":"heading","depth":2,"position":{"start":{"line":200,"column":1},"end":{"line":200,"column":1}},"children":[{"type":"text","value":"Images comme tableaux","position":{"start":{"line":200,"column":1},"end":{"line":200,"column":1}},"key":"ZFzccLUFiZ"}],"identifier":"images-comme-tableaux","label":"Images comme tableaux","html_id":"images-comme-tableaux","implicit":true,"key":"GcQdpBrqji"},{"type":"paragraph","position":{"start":{"line":202,"column":1},"end":{"line":205,"column":1}},"children":[{"type":"text","value":"On souhaite maintenant pouvoir accéder au contenu de l’image pour\npouvoir calculer avec. Pour cela, nous allons convertir l’image en un\ntableau de nombres ","position":{"start":{"line":202,"column":1},"end":{"line":202,"column":1}},"key":"XcDqzNGNlw"},{"type":"inlineCode","value":"NumPy","position":{"start":{"line":202,"column":1},"end":{"line":202,"column":1}},"key":"kZrVHYCut5"},{"type":"text","value":", tels ceux que nous avons manipulés dans la\n","position":{"start":{"line":202,"column":1},"end":{"line":202,"column":1}},"key":"JMsr8zA6Hu"},{"type":"link","url":"1_tableaux.md","position":{"start":{"line":202,"column":1},"end":{"line":202,"column":1}},"children":[{"type":"text","value":"fiche précédente","position":{"start":{"line":202,"column":1},"end":{"line":202,"column":1}},"key":"tCSsnEtsEc"}],"urlSource":"1_tableaux.md","key":"ZTlHvhRvO7"},{"type":"text","value":".","position":{"start":{"line":202,"column":1},"end":{"line":202,"column":1}},"key":"sDGHYmTgm1"}],"key":"nRuiNrPY6Z"},{"type":"paragraph","position":{"start":{"line":207,"column":1},"end":{"line":207,"column":1}},"children":[{"type":"text","value":"Voici le tableau associé à l’image:","position":{"start":{"line":207,"column":1},"end":{"line":207,"column":1}},"key":"eAOCLo1bBf"}],"key":"CGOLoIY4Dh"}],"data":{"nbgrader":{"grade":false,"grade_id":"cell-5aa2ff2d91d5b0b3","locked":true,"schema_version":3,"solution":false}},"key":"KUJxzkIat5"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import numpy as np","key":"XMkElCzwLM"},{"type":"output","id":"-2FcyHZjOgrJkiqDXexL1","data":[],"key":"MXC3WRFOm2"}],"data":{},"key":"XQWHcm613o"},{"type":"block","children":[],"key":"KzbCpDy8M3"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"M = np.array(img)","key":"qyTiPwA4UU"},{"type":"output","id":"_sOZeRAiaEVg6NWUy38yj","data":[],"key":"SnIWRroPZP"}],"data":{},"key":"reElIwzXJk"},{"type":"block","position":{"start":{"line":234,"column":1},"end":{"line":234,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":236,"column":1},"end":{"line":237,"column":1}},"children":[{"type":"text","value":"En vous référant éventuellement au cours, combien de lignes, de\ncolonnes et de couches devrait avoir ce tableau?","position":{"start":{"line":236,"column":1},"end":{"line":236,"column":1}},"key":"FbiZmCG3oj"}],"key":"tnFOnPQ9cH"},{"type":"paragraph","position":{"start":{"line":239,"column":1},"end":{"line":239,"column":1}},"children":[{"type":"text","value":"BEGIN SOLUTION","position":{"start":{"line":239,"column":1},"end":{"line":239,"column":1}},"key":"PHpAOKchg4"}],"key":"O5FYfwoGeQ"},{"type":"paragraph","position":{"start":{"line":241,"column":1},"end":{"line":241,"column":1}},"children":[{"type":"text","value":"Il devrait y avoir 256 lignes, 256 colonnes et quatre couches.","position":{"start":{"line":241,"column":1},"end":{"line":241,"column":1}},"key":"PmijN9FRH0"}],"key":"TKRloDC6Sl"},{"type":"paragraph","position":{"start":{"line":243,"column":1},"end":{"line":243,"column":1}},"children":[{"type":"text","value":"END SOLUTION","position":{"start":{"line":243,"column":1},"end":{"line":243,"column":1}},"key":"fk2lcdk83d"}],"key":"in0vQFKzJz"},{"type":"paragraph","position":{"start":{"line":245,"column":1},"end":{"line":245,"column":1}},"children":[{"type":"text","value":"Vérifier avec l’attribut ","position":{"start":{"line":245,"column":1},"end":{"line":245,"column":1}},"key":"JRdsziDdff"},{"type":"inlineCode","value":"shape","position":{"start":{"line":245,"column":1},"end":{"line":245,"column":1}},"key":"wSKdUqogRY"},{"type":"text","value":":","position":{"start":{"line":245,"column":1},"end":{"line":245,"column":1}},"key":"v6e0nMOChr"}],"key":"Y9ZKWwjICf"}],"data":{"nbgrader":{"grade":true,"grade_id":"cell-1a34fbbc93618b40","locked":false,"schema_version":3,"solution":true,"task":false,"points":0}},"key":"cp1KRDUzaF"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"### BEGIN SOLUTION\nM.shape\n### END SOLUTION","key":"A9xFJkzfKl"},{"type":"output","id":"3EvJIIzPOXpNm6UOhYlx9","data":[],"key":"xPKSvFETy4"}],"data":{},"key":"E6IrtN3SpL"},{"type":"block","position":{"start":{"line":261,"column":1},"end":{"line":261,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":263,"column":1},"end":{"line":263,"column":1}},"children":[{"type":"text","value":"Pourquoi quatre couches? Rouge, Vert, Bleu, ... et transparence!","position":{"start":{"line":263,"column":1},"end":{"line":263,"column":1}},"key":"uaicm5mk7H"}],"key":"QSjsDTFfNC"}],"data":{"nbgrader":{"grade":false,"grade_id":"cell-397f146412f6fb75","locked":true,"schema_version":3,"solution":false}},"key":"LhovmeYJzd"},{"type":"block","position":{"start":{"line":265,"column":1},"end":{"line":265,"column":1}},"children":[{"type":"heading","depth":3,"position":{"start":{"line":267,"column":1},"end":{"line":267,"column":1}},"children":[{"type":"text","value":"Comprendre les couches de couleurs","position":{"start":{"line":267,"column":1},"end":{"line":267,"column":1}},"key":"wHBJc1lHNF"}],"identifier":"comprendre-les-couches-de-couleurs","label":"Comprendre les couches de couleurs","html_id":"comprendre-les-couches-de-couleurs","implicit":true,"key":"JkFInr41zG"},{"type":"paragraph","position":{"start":{"line":269,"column":1},"end":{"line":273,"column":1}},"children":[{"type":"text","value":"Comme toujours, pour mieux comprendre des données, il faut les\nvisualiser !  Voici une figure représentant notre image et ses trois\ncouches rouge, vert, bleu.  Observez comment les couleurs de l’image\nde départ (blanc, vert, noir, rouge) se décomposent dans les\ndifférentes couches.","position":{"start":{"line":269,"column":1},"end":{"line":269,"column":1}},"key":"JkdXWBLKWh"}],"key":"m7XnIjRqcX"}],"data":{"nbgrader":{"grade":false,"grade_id":"cell-397f146412f6fb76","locked":true,"schema_version":3,"solution":false}},"key":"VPIKQLQNep"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Échelles de couleur (colormap) allant du noir à la couleur primaire correspondante\nfrom matplotlib.colors import LinearSegmentedColormap\nblack_red_cmap   = LinearSegmentedColormap.from_list('black_red_cmap',   [\"black\", \"red\"])\nblack_green_cmap = LinearSegmentedColormap.from_list('black_green_cmap', [\"black\", \"green\"])\nblack_blue_cmap  = LinearSegmentedColormap.from_list('black_blue_cmap',  [\"black\", \"blue\"])\n\nfig = Figure(figsize=(30, 5));\n(subplot, subplotr, subplotg, subplotb) = fig.subplots(1, 4)  # Quatre zones de dessin\n# Dessin de l'image et de ses trois couches\nsubplot.imshow(M)\nimgr = subplotr.imshow(M[:,:,0], cmap=black_red_cmap,   vmin=0, vmax=255)\nimgg = subplotg.imshow(M[:,:,1], cmap=black_green_cmap, vmin=0, vmax=255)\nimgb = subplotb.imshow(M[:,:,2], cmap=black_blue_cmap,  vmin=0, vmax=255)\n# Ajout des barres d'échelle de couleur aux images\nfig.colorbar(imgr, ax=subplotr);\nfig.colorbar(imgg, ax=subplotg);\nfig.colorbar(imgb, ax=subplotb);\nfig","key":"qHqDWFKmfl"},{"type":"output","id":"9t0U2mmfaO45mEGF9yi6B","data":[],"key":"DFf1HkP4WR"}],"data":{},"key":"FIXYfhQe0Y"},{"type":"block","position":{"start":{"line":305,"column":1},"end":{"line":305,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":307,"column":1},"end":{"line":308,"column":1}},"children":[{"type":"text","value":"Par la suite, nous visualiserons de même de nombreuses images.  Il est\ndonc temps d’automatiser la construction de la figure ci-dessus.","position":{"start":{"line":307,"column":1},"end":{"line":307,"column":1}},"key":"fEsvvqVAHX"}],"key":"goIIVF5pNP"},{"type":"admonition","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Exercice","position":{"start":{"line":310,"column":1},"end":{"line":310,"column":1}},"key":"uEBQr1PXHh"}],"key":"ZeblwGMGaf"},{"type":"paragraph","position":{"start":{"line":312,"column":1},"end":{"line":313,"column":1}},"children":[{"type":"text","value":"Ouvrez le fichier ","position":{"start":{"line":312,"column":1},"end":{"line":312,"column":1}},"key":"muZO53jM7f"},{"type":"link","url":"utilities.py","position":{"start":{"line":312,"column":1},"end":{"line":312,"column":1}},"children":[{"type":"text","value":"utilities.py","position":{"start":{"line":312,"column":1},"end":{"line":312,"column":1}},"key":"OThkUv4viN"}],"urlSource":"utilities.py","key":"C3UE8lV0pB"},{"type":"text","value":" et complétez-y la\nfonction ","position":{"start":{"line":312,"column":1},"end":{"line":312,"column":1}},"key":"r4FFKiKpSf"},{"type":"inlineCode","value":"show_color_channels","position":{"start":{"line":312,"column":1},"end":{"line":312,"column":1}},"key":"I3h9dJv8CQ"},{"type":"text","value":" à partir du code ci-dessus.","position":{"start":{"line":312,"column":1},"end":{"line":312,"column":1}},"key":"m8wyRjPwIG"}],"key":"QpZXHpEqMb"}],"key":"gKzibgigZs"}],"data":{"nbgrader":{"schema_version":3,"solution":false,"grade":false,"locked":true,"task":false,"grade_id":"cell-953569768ed43403"}},"key":"o5TYtz2rfN"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Automatically reload code when changes are made\n%load_ext autoreload\n%autoreload 2\nfrom intro_science_donnees import *\nfrom utilities import *","key":"DwoWS0AsCW"},{"type":"output","id":"Yv0QuQ8YMgyvqnc75Dgfj","data":[],"key":"Q3tZ90dpXx"}],"data":{},"key":"lKR5LmIawK"},{"type":"block","children":[],"key":"WM9zJQv926"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"show_source(show_color_channels)","key":"bVcWgEKFSC"},{"type":"output","id":"ra040bfLiqQTyhlPIhcdm","data":[],"key":"a1PlD9XMlM"}],"data":{},"key":"g52FvjFVeP"},{"type":"block","children":[],"key":"gdrnkVQUIN"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"show_color_channels(img)","key":"wH8JIaWINU"},{"type":"output","id":"9hOxK6moN0W6DrQnHKvSN","data":[],"key":"ZiE18kKi4N"}],"data":{},"key":"y5QXpqPXXo"},{"type":"block","position":{"start":{"line":361,"column":1},"end":{"line":361,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":363,"column":1},"end":{"line":363,"column":1}},"children":[{"type":"text","value":"Vérification: ","position":{"start":{"line":363,"column":1},"end":{"line":363,"column":1}},"key":"ubQ5sNZlPF"},{"type":"inlineCode","value":"show_color_channels","position":{"start":{"line":363,"column":1},"end":{"line":363,"column":1}},"key":"WCt0HvqhZt"},{"type":"text","value":" renvoie bien une figure","position":{"start":{"line":363,"column":1},"end":{"line":363,"column":1}},"key":"Mv5iBkihcg"}],"key":"nyB8uyeG5V"}],"data":{"nbgrader":{"schema_version":3,"solution":false,"grade":false,"locked":true,"task":false,"grade_id":"cell-fda75a63d59e2209"}},"key":"ql0tMR17ff"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"assert isinstance(show_color_channels(img), Figure)","key":"g9iIIjTFlc"},{"type":"output","id":"6FYotY8Vlb9SOD8NgnMAV","data":[],"key":"dXekPBizaO"}],"data":{},"key":"HVXuzJNc3o"},{"type":"block","position":{"start":{"line":379,"column":1},"end":{"line":379,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":381,"column":1},"end":{"line":382,"column":1}},"children":[{"type":"text","value":"Étudions maintenant les images du jeu de données de la semaine\ndernière:","position":{"start":{"line":381,"column":1},"end":{"line":381,"column":1}},"key":"MwRrYYAVPe"}],"key":"TURfrSt47B"}],"data":{"nbgrader":{"schema_version":3,"solution":false,"grade":false,"locked":true,"task":false,"grade_id":"cell-0cf719f423e37ef5"}},"key":"RkWs5NFH7Y"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import os.path\ndataset_dir = os.path.join(data.dir, 'ApplesAndBananasSimple')\nimages = load_images(dataset_dir, \"*.png\")","key":"kCmXqxfSgl"},{"type":"output","id":"yFLFslpgFXkuBvXr0xyKE","data":[],"key":"Udv5TN9u25"}],"data":{},"key":"bYrWGEY6Ru"},{"type":"block","children":[],"key":"bahOVnwxYB"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"image_grid(images, titles=images.index)","key":"n0ki4bu1Dj"},{"type":"output","id":"sJ0WPwvJVxtjTVNJvHKq4","data":[],"key":"hXaDf2FreC"}],"data":{},"key":"Ngy3VEU7Iv"},{"type":"block","position":{"start":{"line":412,"column":1},"end":{"line":412,"column":1}},"children":[{"type":"admonition","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Exercice","position":{"start":{"line":414,"column":1},"end":{"line":414,"column":1}},"key":"tZ02oi0J8X"}],"key":"GEIDsnQWri"},{"type":"paragraph","position":{"start":{"line":416,"column":1},"end":{"line":417,"column":1}},"children":[{"type":"text","value":"Observez l’image suivante et ses couches. Expliquez ce que vous\nvoyez. Essayez d’autres exemples.","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"OOPL6BdHtq"}],"key":"qVKuDpTAsj"},{"type":"paragraph","position":{"start":{"line":419,"column":1},"end":{"line":419,"column":1}},"children":[{"type":"text","value":"BEGIN SOLUTION","position":{"start":{"line":419,"column":1},"end":{"line":419,"column":1}},"key":"kc6VqT4qTl"}],"key":"xx91qh18J2"},{"type":"paragraph","position":{"start":{"line":421,"column":1},"end":{"line":424,"column":1}},"children":[{"type":"text","value":"On remarque que les pixels noirs sont à zéro dans les trois couches et\nles pixels blancs à 255 dans les trois couches. Le jaune étant la\ncouleur complémentaire du bleu est à 255 en rouge et en vert et 0 en\nbleu.","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"WOwzXvy0ud"}],"key":"rFtiSgLT9h"},{"type":"paragraph","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"children":[{"type":"text","value":"END SOLUTION","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"rE29YtO2HI"}],"key":"uR4Wag8L5d"}],"key":"TUK74Jqk1I"}],"data":{"nbgrader":{"schema_version":3,"solution":true,"grade":true,"locked":false,"task":false,"grade_id":"cell-9f449b989ea74be6","points":0}},"key":"BcVi1ALTPf"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"img = images[10]\nshow_color_channels(img)","key":"AgqxrltNMR"},{"type":"output","id":"b6PlaS6B5R3VYsNpV05bJ","data":[],"key":"jBc1aFhJ4o"}],"data":{},"key":"B4pQtvYRCm"},{"type":"block","position":{"start":{"line":435,"column":1},"end":{"line":435,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":437,"column":1},"end":{"line":441,"column":1}},"children":[{"type":"text","value":"Nous allons maintenant observer l’","position":{"start":{"line":437,"column":1},"end":{"line":437,"column":1}},"key":"cxItkw3Kwm"},{"type":"strong","position":{"start":{"line":437,"column":1},"end":{"line":437,"column":1}},"children":[{"type":"text","value":"histogramme des couleurs","position":{"start":{"line":437,"column":1},"end":{"line":437,"column":1}},"key":"KWO58VaN30"}],"key":"hL4EHHpaLx"},{"type":"text","value":"\napparaissant dans une image, en utilisant l’utilitaire\n","position":{"start":{"line":437,"column":1},"end":{"line":437,"column":1}},"key":"TPrkomZXmX"},{"type":"inlineCode","value":"color_histogram","position":{"start":{"line":437,"column":1},"end":{"line":437,"column":1}},"key":"hx1myZ4noZ"},{"type":"text","value":" (vous pouvez comme d’habitude en consulter la\ndocumentation et le code par introspection avec ","position":{"start":{"line":437,"column":1},"end":{"line":437,"column":1}},"key":"ZlT7V0xkIM"},{"type":"inlineCode","value":"color_histogram?","position":{"start":{"line":437,"column":1},"end":{"line":437,"column":1}},"key":"T9BuVlsNP0"},{"type":"text","value":" et\n","position":{"start":{"line":437,"column":1},"end":{"line":437,"column":1}},"key":"XUXSjaKdKS"},{"type":"inlineCode","value":"color_histogram??","position":{"start":{"line":437,"column":1},"end":{"line":437,"column":1}},"key":"t4MKWyyC3k"},{"type":"text","value":"):","position":{"start":{"line":437,"column":1},"end":{"line":437,"column":1}},"key":"YDTeEfsp9f"}],"key":"vduLE2cWXJ"}],"data":{"nbgrader":{"schema_version":3,"solution":false,"grade":false,"locked":true,"task":false,"grade_id":"cell-291f681a5aab593d"}},"key":"Fnp2jbAWGK"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"color_histogram(img)","key":"NfH9imBgqy"},{"type":"output","id":"SNS646MuQt1b4Lsq2bN8C","data":[],"key":"oGcRnULUdl"}],"data":{},"key":"z4rKykzTJJ"},{"type":"block","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"children":[{"type":"admonition","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Exercice","position":{"start":{"line":458,"column":1},"end":{"line":458,"column":1}},"key":"zNaNzEBz7S"}],"key":"akqYgVzRjH"},{"type":"paragraph","position":{"start":{"line":460,"column":1},"end":{"line":461,"column":1}},"children":[{"type":"text","value":"Observez les histogrammes ci-dessous de la dixième et la troisième\nimage, et interprétez-les.","position":{"start":{"line":460,"column":1},"end":{"line":460,"column":1}},"key":"ICjU45C8zs"}],"key":"n90irtUu3M"},{"type":"paragraph","position":{"start":{"line":463,"column":1},"end":{"line":463,"column":1}},"children":[{"type":"text","value":"BEGIN SOLUTION","position":{"start":{"line":463,"column":1},"end":{"line":463,"column":1}},"key":"jqLDzv38Kw"}],"key":"etEHpV69YN"},{"type":"paragraph","position":{"start":{"line":465,"column":1},"end":{"line":469,"column":1}},"children":[{"type":"text","value":"Image 10 : on remarque que de les pixels verts et rouges se situent\ntrès majoritairement dans des valeurs supérieures à 150, tandis que de\nnombreux pixels bleus se situent dans des valeurs inférieures. C’est\nlogique étant donné la couleur jaune de la pomme (jaune étant la\ncouleur complémentaire du bleu).","position":{"start":{"line":465,"column":1},"end":{"line":465,"column":1}},"key":"vgBazx4x9n"}],"key":"iBIDWSehQA"},{"type":"paragraph","position":{"start":{"line":471,"column":1},"end":{"line":474,"column":1}},"children":[{"type":"text","value":"Image 3 : on remarque qu’il y a davantage de pixels rouges ayant la\nvaleur 256 ; bleus et verts ayant dans l’ensemble des valeurs plus\nfaibles que les pixels rouges. Cohérent, puisque la pomme de l’image\nest rouge.","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"key":"tfyvFnbTj6"}],"key":"l4m93uXfCv"},{"type":"paragraph","position":{"start":{"line":476,"column":1},"end":{"line":476,"column":1}},"children":[{"type":"text","value":"END SOLUTION","position":{"start":{"line":476,"column":1},"end":{"line":476,"column":1}},"key":"roMGnAN0qa"}],"key":"PzUkLNKTGO"}],"key":"baC221jo4m"}],"data":{"nbgrader":{"schema_version":3,"solution":true,"grade":true,"locked":false,"task":false,"grade_id":"cell-a887ca1b2eac11df","points":2}},"key":"pKxjWt2zS8"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"img = images[9]\nshow_color_channels(img)","key":"lT8bRiloCg"},{"type":"output","id":"owjY5s5bQHfPYBtk2A-Ia","data":[],"key":"A4rT9F48jp"}],"data":{},"key":"kXBp5Zcafe"},{"type":"block","children":[],"key":"KYAE4Fl28a"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"color_histogram(img)","key":"GeDFtKpCI0"},{"type":"output","id":"_VmwiRh0E9tBDSGvvvNLX","data":[],"key":"bP8bLpoB4D"}],"data":{},"key":"N8MKiNuYQs"},{"type":"block","children":[],"key":"HkTDic9m6O"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"img = images[2]\nshow_color_channels(img)","key":"IYQxLtW8Ug"},{"type":"output","id":"aN5au4kFYSbAq27hG5u8C","data":[],"key":"COV2k0q8Q6"}],"data":{},"key":"Yqv06nEMn1"},{"type":"block","children":[],"key":"fnC32Q05qp"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"color_histogram(img)","key":"Te9MUvfZ1R"},{"type":"output","id":"VOlTooHH5cSKJuZftFXEN","data":[],"key":"PbGKvHn5gH"}],"data":{},"key":"jcXyvPALT9"},{"type":"block","position":{"start":{"line":534,"column":1},"end":{"line":534,"column":1}},"children":[{"type":"heading","depth":2,"position":{"start":{"line":536,"column":1},"end":{"line":536,"column":1}},"children":[{"type":"text","value":"Séparation des couleurs","position":{"start":{"line":536,"column":1},"end":{"line":536,"column":1}},"key":"epPAgx9C4T"}],"identifier":"s-paration-des-couleurs","label":"Séparation des couleurs","html_id":"s-paration-des-couleurs","implicit":true,"key":"aIL1KT2wXX"},{"type":"paragraph","position":{"start":{"line":538,"column":1},"end":{"line":541,"column":1}},"children":[{"type":"text","value":"Nous allons maintenant extraire les trois canaux, rouge, vert,\nbleu. Pour le canal des rouges, on extrait le sous-tableau à deux\ndimensions de toutes les cases d’indice ","position":{"start":{"line":538,"column":1},"end":{"line":538,"column":1}},"key":"I7xsqwPcP4"},{"type":"inlineMath","value":"(i,j,k)","position":{"start":{"line":538,"column":1},"end":{"line":538,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mi>i</mi><mo separator=\"true\">,</mo><mi>j</mi><mo separator=\"true\">,</mo><mi>k</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(i,j,k)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">i</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05724em;\">j</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"mclose\">)</span></span></span></span>","key":"ed5aJMJlqy"},{"type":"text","value":" avec ","position":{"start":{"line":538,"column":1},"end":{"line":538,"column":1}},"key":"rmjaGYhfCc"},{"type":"inlineMath","value":"k=0","position":{"start":{"line":538,"column":1},"end":{"line":538,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>k</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding=\"application/x-tex\">k=0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03148em;\">k</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">0</span></span></span></span>","key":"dgmEV9R5Mf"},{"type":"text","value":". Le\n","position":{"start":{"line":538,"column":1},"end":{"line":538,"column":1}},"key":"TwVfDgTjmF"},{"type":"inlineCode","value":"* 1.0","position":{"start":{"line":538,"column":1},"end":{"line":538,"column":1}},"key":"TKFs2Ekjjg"},{"type":"text","value":" sert à convertir les valeurs en nombres à virgule.","position":{"start":{"line":538,"column":1},"end":{"line":538,"column":1}},"key":"NpMkfWjOwN"}],"key":"ePVQYoVinq"}],"data":{"nbgrader":{"grade":false,"grade_id":"cell-5d6255f7be07beda","locked":true,"schema_version":3,"solution":false}},"key":"vT0nRiwKUD"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"R = M[:,:,0] * 1.0","key":"Y5DdNzUGCo"},{"type":"output","id":"w0ye-Q56QhDUFiVzGVSuY","data":[],"key":"PuJ4NoDMpH"}],"data":{},"key":"gb80vOlCqo"},{"type":"block","position":{"start":{"line":555,"column":1},"end":{"line":555,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":557,"column":1},"end":{"line":557,"column":1}},"children":[{"type":"text","value":"Regarder le résultat directement n’est pas très informatif :","position":{"start":{"line":557,"column":1},"end":{"line":557,"column":1}},"key":"PjvlyUrA9Z"}],"key":"x3TzjYQjdb"}],"data":{"nbgrader":{"grade":false,"grade_id":"cell-59920f8c83495b86","locked":true,"schema_version":3,"solution":false}},"key":"O5edU5VgKi"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"R","key":"Jbf1WOtMra"},{"type":"output","id":"lkEzrkqy2DhlneLylJ00K","data":[],"key":"IQh8g82229"}],"data":{},"key":"rIqhPBUBmp"},{"type":"block","position":{"start":{"line":571,"column":1},"end":{"line":571,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":573,"column":1},"end":{"line":573,"column":1}},"children":[{"type":"text","value":"Comme d’habitude, il vaut mieux le ","position":{"start":{"line":573,"column":1},"end":{"line":573,"column":1}},"key":"qIOdoNzfQy"},{"type":"emphasis","position":{"start":{"line":573,"column":1},"end":{"line":573,"column":1}},"children":[{"type":"text","value":"visualiser","position":{"start":{"line":573,"column":1},"end":{"line":573,"column":1}},"key":"WT0HnzHIln"}],"key":"vwKiGZrOzt"},{"type":"text","value":" :","position":{"start":{"line":573,"column":1},"end":{"line":573,"column":1}},"key":"YHuFFvgBcP"}],"key":"EyVQYRrCOi"}],"data":{"nbgrader":{"grade":false,"grade_id":"cell-58b15c024481ac3d","locked":true,"schema_version":3,"solution":false}},"key":"VMiW9a51fs"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"fig = Figure(figsize=(5,5))\nax, axr = fig.subplots(1,2)\nax.imshow(M)\naxr.imshow(R, cmap='Greys_r', vmin=0, vmax=255)\nfig","key":"YszZIKXR9h"},{"type":"output","id":"_5Pw4BnRUBUEYNh-wfZup","data":[],"key":"h8Yq6jwAPq"}],"data":{},"key":"PUnzLmyb0H"},{"type":"block","position":{"start":{"line":591,"column":1},"end":{"line":591,"column":1}},"children":[{"type":"admonition","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Exercice","position":{"start":{"line":593,"column":1},"end":{"line":593,"column":1}},"key":"DmrEMPbiW2"}],"key":"zkDOhK0yBc"},{"type":"paragraph","position":{"start":{"line":595,"column":1},"end":{"line":596,"column":1}},"children":[{"type":"text","value":"Extrayez de même le canal des verts et des bleus de la première image\ndans les variables ","position":{"start":{"line":595,"column":1},"end":{"line":595,"column":1}},"key":"Py2Bnmmsbx"},{"type":"inlineCode","value":"G","position":{"start":{"line":595,"column":1},"end":{"line":595,"column":1}},"key":"CqsdFBF1dH"},{"type":"text","value":" et ","position":{"start":{"line":595,"column":1},"end":{"line":595,"column":1}},"key":"YM3WgQaV2s"},{"type":"inlineCode","value":"B","position":{"start":{"line":595,"column":1},"end":{"line":595,"column":1}},"key":"ehh7tKj2Ro"},{"type":"text","value":". N’hésitez pas à les visualiser !","position":{"start":{"line":595,"column":1},"end":{"line":595,"column":1}},"key":"HUNQlI8Zat"}],"key":"cQ24OGONE6"}],"key":"mh1zpbboY2"}],"data":{"nbgrader":{"grade":false,"grade_id":"cell-f5748504b4d52000","locked":true,"schema_version":3,"solution":false,"task":false}},"key":"d7foJfBu9B"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"### BEGIN SOLUTION\nG = M[:,:,1] * 1.0\n\nfig = Figure(figsize=(5,5))\nax, axr = fig.subplots(1,2)\nax.imshow(M)\naxr.imshow(G, cmap='Greys_r', vmin=0, vmax=255)\nfig\n### END SOLUTION","key":"VllMvLxnl0"},{"type":"output","id":"EVwKt1RXgdwm6352oFIG6","data":[],"key":"tfvaEWUcb8"}],"data":{},"key":"ktC7N8xjuy"},{"type":"block","children":[],"key":"AkC0Zjou2F"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"assert G.shape == (256, 256)\nassert abs(G.mean() - 158.27) < 0.1","key":"YWHb2ZKP2c"},{"type":"output","id":"rwRma9v-v71OJzh9mDFFy","data":[],"key":"BD7H9q00rm"}],"data":{},"key":"R4ZwXIPBTK"},{"type":"block","children":[],"key":"MjWQpy1M13"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"### BEGIN SOLUTION\nB = M[:,:,2] * 1.0\n\nfig = Figure(figsize=(5,5))\nax, axr = fig.subplots(1,2)\nax.imshow(M)\naxr.imshow(B, cmap='Greys_r', vmin=0, vmax=255)\nfig\n### END SOLUTION","key":"uO623hb5JU"},{"type":"output","id":"mC2eaT9_UjDD7skBqChbv","data":[],"key":"FGU8821Ol3"}],"data":{},"key":"mivROnDNZj"},{"type":"block","children":[],"key":"FJA14lV1Df"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"assert B.shape == (256, 256)\nassert abs(B.mean() - 148.39) < 0.1","key":"jqDqyzDn1G"},{"type":"output","id":"i6wIjVQN42VgMPjOq91w0","data":[],"key":"jUeW3rjAXO"}],"data":{},"key":"HYn2CNNVDo"},{"type":"block","position":{"start":{"line":672,"column":1},"end":{"line":672,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":674,"column":1},"end":{"line":675,"column":1}},"children":[{"type":"text","value":"Il est maintenant facile de faire de l’arithmétique sur tous les\npixels. Par exemple la somme des intensités en vert et rouge s’écrit:","position":{"start":{"line":674,"column":1},"end":{"line":674,"column":1}},"key":"E70BwukR9J"}],"key":"U9cSD6EVxt"}],"data":{"nbgrader":{"grade":false,"grade_id":"cell-233c14413c6e3e6f","locked":true,"schema_version":3,"solution":false}},"key":"zc8jDWXqip"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"G + R","key":"iMmTs01nfI"},{"type":"output","id":"UdXxRtO1hfMhA29mCb-Sf","data":[],"key":"JoaYg20gjP"}],"data":{},"key":"RiY3HOQA43"},{"type":"block","position":{"start":{"line":689,"column":1},"end":{"line":689,"column":1}},"children":[{"type":"admonition","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Exercice","position":{"start":{"line":691,"column":1},"end":{"line":691,"column":1}},"key":"M7IoyesmWH"}],"key":"eemBButMr5"},{"type":"paragraph","position":{"start":{"line":693,"column":1},"end":{"line":695,"column":1}},"children":[{"type":"text","value":"Calculez et visualisez la luminosité de tous les pixels de l’image, la\n","position":{"start":{"line":693,"column":1},"end":{"line":693,"column":1}},"key":"bs9ARQ80Px"},{"type":"emphasis","position":{"start":{"line":693,"column":1},"end":{"line":693,"column":1}},"children":[{"type":"text","value":"luminosité","position":{"start":{"line":693,"column":1},"end":{"line":693,"column":1}},"key":"R4nG1iFCsX"}],"key":"jMrk2qfGmi"},{"type":"text","value":" d’un pixel ","position":{"start":{"line":693,"column":1},"end":{"line":693,"column":1}},"key":"G2A1Xdi4N2"},{"type":"inlineMath","value":"(r,g,b)","position":{"start":{"line":693,"column":1},"end":{"line":693,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mi>r</mi><mo separator=\"true\">,</mo><mi>g</mi><mo separator=\"true\">,</mo><mi>b</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(r,g,b)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">r</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">g</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mclose\">)</span></span></span></span>","key":"qEjqcpf0Bw"},{"type":"text","value":" étant définie comme la moyenne\n","position":{"start":{"line":693,"column":1},"end":{"line":693,"column":1}},"key":"yZ8SHgLjm6"},{"type":"inlineMath","value":"v=\\frac{r+g+b}{3}","position":{"start":{"line":693,"column":1},"end":{"line":693,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>v</mi><mo>=</mo><mfrac><mrow><mi>r</mi><mo>+</mo><mi>g</mi><mo>+</mo><mi>b</mi></mrow><mn>3</mn></mfrac></mrow><annotation encoding=\"application/x-tex\">v=\\frac{r+g+b}{3}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">v</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.2772em;vertical-align:-0.345em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.9322em;\"><span style=\"top:-2.655em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">3</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.4461em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mathnormal mtight\" style=\"margin-right:0.02778em;\">r</span><span class=\"mbin mtight\">+</span><span class=\"mord mathnormal mtight\" style=\"margin-right:0.03588em;\">g</span><span class=\"mbin mtight\">+</span><span class=\"mord mathnormal mtight\">b</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.345em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span>","key":"j4NsUobUj9"},{"type":"text","value":":","position":{"start":{"line":693,"column":1},"end":{"line":693,"column":1}},"key":"o1kSolpCfP"}],"key":"iy5qu7Uj73"}],"key":"t21ejg0V6u"}],"data":{"nbgrader":{"grade":false,"grade_id":"cell-5d168111627796e1","locked":true,"schema_version":3,"solution":false}},"key":"YjgUJMSXnT"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"### BEGIN SOLUTION\nV = (R+G+B)/3\n\nfig = Figure(figsize=(5,5))\nax, axr = fig.subplots(1,2)\nax.imshow(M)\naxr.imshow(V, cmap='Greys_r', vmin=0, vmax=255)\nfig\n### END SOLUTION","key":"WUn4dWzJus"},{"type":"output","id":"u2BqpSUtB9jaBTrHA6EPm","data":[],"key":"DE8yvAIjdp"}],"data":{},"key":"ckLSD8HN73"},{"type":"block","children":[],"key":"FcZcSxDuj3"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"assert V.shape == (256, 256)\nassert abs(V.mean() - 172.44) < 0.1","key":"MFTFK83MsL"},{"type":"output","id":"ETF8JsFdU2tM8gWQ6HlZj","data":[],"key":"eQwB2E7ci6"}],"data":{},"key":"pRICQ5tyfj"},{"type":"block","position":{"start":{"line":735,"column":1},"end":{"line":735,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":737,"column":1},"end":{"line":740,"column":1}},"children":[{"type":"text","value":"Vous venez de transformer l’image en niveaux de gris! Pour que cela\ncolle au mieux avec notre perception visuelle, il faudrait en fait\nutiliser une moyenne légèrement pondérée; voir par exemple la\n","position":{"start":{"line":737,"column":1},"end":{"line":737,"column":1}},"key":"XyPFhny9TY"},{"type":"link","url":"https://fr.wikipedia.org/wiki/Niveau_de_gris#Convertir_une_image_couleur_en_niveau_de_gris","position":{"start":{"line":737,"column":1},"end":{"line":737,"column":1}},"children":[{"type":"text","value":"Wikipedia","position":{"start":{"line":737,"column":1},"end":{"line":737,"column":1}},"key":"jrhhzderSf"}],"urlSource":"https://fr.wikipedia.org/wiki/Niveau_de_gris#Convertir_une_image_couleur_en_niveau_de_gris","data":{"page":"Niveau_de_gris#Convertir_une_image_couleur_en_niveau_de_gris","wiki":"https://fr.wikipedia.org/","lang":"fr"},"internal":false,"protocol":"wiki","key":"nl6AhOjyYc"},{"type":"text","value":".","position":{"start":{"line":737,"column":1},"end":{"line":737,"column":1}},"key":"FgbhTT2DeC"}],"key":"GdPOCvXJ5I"}],"data":{"nbgrader":{"grade":false,"grade_id":"cell-5d168111627796e2","locked":true,"schema_version":3,"solution":false}},"key":"wUc5U2ABOS"},{"type":"block","position":{"start":{"line":742,"column":1},"end":{"line":742,"column":1}},"children":[{"type":"heading","depth":2,"position":{"start":{"line":744,"column":1},"end":{"line":744,"column":1}},"children":[{"type":"text","value":"Conclusion","position":{"start":{"line":744,"column":1},"end":{"line":744,"column":1}},"key":"hzYlH6Bkex"}],"identifier":"conclusion","label":"Conclusion","html_id":"conclusion","implicit":true,"key":"oW9IZelOtL"},{"type":"paragraph","position":{"start":{"line":746,"column":1},"end":{"line":749,"column":1}},"children":[{"type":"text","value":"Vous avons vu dans cette feuille comment charger une image dans Python\net effectuer quelques manipulations, visualisations et calculs simples\ndessus. Cela a été l’occasion de mieux comprendre la décomposition\nd’une image en couches de couleur.","position":{"start":{"line":746,"column":1},"end":{"line":746,"column":1}},"key":"LoU8d6ZbGo"}],"key":"PtLZpTFddE"},{"type":"admonition","children":[{"type":"admonitionTitle","children":[{"type":"text","value":"Exercice","position":{"start":{"line":751,"column":1},"end":{"line":751,"column":1}},"key":"ISX7nIbYlf"}],"key":"hHK6JiOm9D"},{"type":"paragraph","position":{"start":{"line":753,"column":1},"end":{"line":754,"column":1}},"children":[{"type":"text","value":"Mettez à jour votre rapport, et notamment la section « revue de code »\npour vérifier vos utilitaires dans ","position":{"start":{"line":753,"column":1},"end":{"line":753,"column":1}},"key":"GCUvGxxZ5j"},{"type":"link","url":"utilities.py","position":{"start":{"line":753,"column":1},"end":{"line":753,"column":1}},"children":[{"type":"text","value":"utilities.py","position":{"start":{"line":753,"column":1},"end":{"line":753,"column":1}},"key":"RQZ4xjh8tR"}],"urlSource":"utilities.py","key":"IIkvFpO9v8"},{"type":"text","value":".","position":{"start":{"line":753,"column":1},"end":{"line":753,"column":1}},"key":"wbIEZfvoeA"}],"key":"KwhQQsJIpc"}],"key":"S8VxmGloyZ"},{"type":"paragraph","position":{"start":{"line":758,"column":1},"end":{"line":759,"column":1}},"children":[{"type":"text","value":"Vous pouvez maintenant passer à\nl’","position":{"start":{"line":758,"column":1},"end":{"line":758,"column":1}},"key":"HTtObB3qan"},{"type":"link","url":"3_extraction_d_attributs.md","position":{"start":{"line":758,"column":1},"end":{"line":758,"column":1}},"children":[{"type":"text","value":"extraction d’attributs","position":{"start":{"line":758,"column":1},"end":{"line":758,"column":1}},"key":"lPeNqiiUEF"}],"urlSource":"3_extraction_d_attributs.md","key":"yhWK2m2zCu"}],"key":"CrGtDTA3Ef"}],"data":{"nbgrader":{"grade":false,"grade_id":"cell-d0fb04b5c7bf1744","locked":true,"schema_version":3,"solution":false}},"key":"g6z7HD5G1m"}],"key":"BFhPsgkCPS"},"references":{"cite":{"order":[],"data":{}}}}